import{S as te,i as se,s as ae,k as d,a as I,q as T,l as _,m as g,h,c as V,r as C,n as v,b as G,D as s,u as K,B as X,I as x,J as le,K as ne,f as N,t as O,d as ie,L as ce,w as R,x as U,y as Z,z as F,M as fe,g as re}from"../../chunks/index-84025daa.js";function ee(l,e,t){var n,a,u,i,$;e==null&&(e=100);function E(){var r=Date.now()-i;r<e&&r>=0?n=setTimeout(E,e-r):(n=null,t||($=l.apply(u,a),u=a=null))}var f=function(){u=this,a=arguments,i=Date.now();var r=t&&!n;return n||(n=setTimeout(E,e)),r&&($=l.apply(u,a),u=a=null),$};return f.clear=function(){n&&(clearTimeout(n),n=null)},f.flush=function(){n&&($=l.apply(u,a),u=a=null,clearTimeout(n),n=null)},f}ee.debounce=ee;var he=ee;function ve(l){let e,t,n,a,u,i,$,E,f,r,o,w,b,H,c,m,q,D,k,S,L,W,B,Y,y,z,j,A;return{c(){e=d("div"),t=d("div"),n=d("div"),a=I(),u=d("div"),i=I(),$=d("div"),E=I(),f=d("div"),r=I(),o=d("div"),w=I(),b=d("div"),H=I(),c=d("div"),m=I(),q=d("div"),D=I(),k=d("div"),S=I(),L=d("div"),W=I(),B=d("div"),Y=I(),y=d("div"),z=I(),j=d("p"),A=T(l[0]),this.h()},l(P){e=_(P,"DIV",{class:!0});var M=g(e);t=_(M,"DIV",{class:!0});var p=g(t);n=_(p,"DIV",{class:!0}),g(n).forEach(h),a=V(p),u=_(p,"DIV",{class:!0}),g(u).forEach(h),i=V(p),$=_(p,"DIV",{class:!0}),g($).forEach(h),E=V(p),f=_(p,"DIV",{class:!0}),g(f).forEach(h),r=V(p),o=_(p,"DIV",{class:!0}),g(o).forEach(h),w=V(p),b=_(p,"DIV",{class:!0}),g(b).forEach(h),H=V(p),c=_(p,"DIV",{class:!0}),g(c).forEach(h),m=V(p),q=_(p,"DIV",{class:!0}),g(q).forEach(h),D=V(p),k=_(p,"DIV",{class:!0}),g(k).forEach(h),S=V(p),L=_(p,"DIV",{class:!0}),g(L).forEach(h),W=V(p),B=_(p,"DIV",{class:!0}),g(B).forEach(h),Y=V(p),y=_(p,"DIV",{class:!0}),g(y).forEach(h),p.forEach(h),z=V(M),j=_(M,"P",{});var J=g(j);A=C(J,l[0]),J.forEach(h),M.forEach(h),this.h()},h(){v(n,"class","svelte-1aehays"),v(u,"class","svelte-1aehays"),v($,"class","svelte-1aehays"),v(f,"class","svelte-1aehays"),v(o,"class","svelte-1aehays"),v(b,"class","svelte-1aehays"),v(c,"class","svelte-1aehays"),v(q,"class","svelte-1aehays"),v(k,"class","svelte-1aehays"),v(L,"class","svelte-1aehays"),v(B,"class","svelte-1aehays"),v(y,"class","svelte-1aehays"),v(t,"class","spinner svelte-1aehays"),v(e,"class","container svelte-1aehays")},m(P,M){G(P,e,M),s(e,t),s(t,n),s(t,a),s(t,u),s(t,i),s(t,$),s(t,E),s(t,f),s(t,r),s(t,o),s(t,w),s(t,b),s(t,H),s(t,c),s(t,m),s(t,q),s(t,D),s(t,k),s(t,S),s(t,L),s(t,W),s(t,B),s(t,Y),s(t,y),s(e,z),s(e,j),s(j,A)},p(P,[M]){M&1&&K(A,P[0])},i:X,o:X,d(P){P&&h(e)}}}function me(l,e,t){let{text:n="Loading..."}=e;return l.$$set=a=>{"text"in a&&t(0,n=a.text)},[n]}class de extends te{constructor(e){super(),se(this,e,me,ve,ae,{text:0})}}function _e(l){let e,t,n=l[2](l[1])+"",a,u,i,$,E,f,r,o=l[0][l[2](l[1])].missingHours+"",w,b,H,c,m=l[0][l[2](l[1])].missingMinutes+"",q,D,k,S,L=l[0][l[2](l[1])].missingMinutes/24+"",W,B,Y;return{c(){e=d("div"),t=d("h3"),a=T(n),u=I(),i=d("div"),$=d("h4"),E=T("Missing time:"),f=I(),r=d("h4"),w=T(o),b=T(" hours"),H=I(),c=d("h4"),q=T(m),D=T(" minutes"),k=I(),S=d("h4"),W=T(L),B=T(" chapters"),this.h()},l(y){e=_(y,"DIV",{class:!0});var z=g(e);t=_(z,"H3",{class:!0});var j=g(t);a=C(j,n),j.forEach(h),u=V(z),i=_(z,"DIV",{class:!0});var A=g(i);$=_(A,"H4",{class:!0});var P=g($);E=C(P,"Missing time:"),P.forEach(h),f=V(A),r=_(A,"H4",{class:!0});var M=g(r);w=C(M,o),b=C(M," hours"),M.forEach(h),H=V(A),c=_(A,"H4",{class:!0});var p=g(c);q=C(p,m),D=C(p," minutes"),p.forEach(h),k=V(A),S=_(A,"H4",{class:!0});var J=g(S);W=C(J,L),B=C(J," chapters"),J.forEach(h),A.forEach(h),z.forEach(h),this.h()},h(){v(t,"class","title svelte-yql3zl"),v($,"class","svelte-yql3zl"),v(r,"class","svelte-yql3zl"),v(c,"class","svelte-yql3zl"),v(S,"class","svelte-yql3zl"),v(i,"class",x("hours-container")+" svelte-yql3zl"),v(e,"class",Y=x(`rectangulo ${l[2](l[1]).toLocaleLowerCase().replaceAll(" ","-")}`)+" svelte-yql3zl")},m(y,z){G(y,e,z),s(e,t),s(t,a),s(e,u),s(e,i),s(i,$),s($,E),s(i,f),s(i,r),s(r,w),s(r,b),s(i,H),s(i,c),s(c,q),s(c,D),s(i,k),s(i,S),s(S,W),s(S,B)},p(y,[z]){z&2&&n!==(n=y[2](y[1])+"")&&K(a,n),z&3&&o!==(o=y[0][y[2](y[1])].missingHours+"")&&K(w,o),z&3&&m!==(m=y[0][y[2](y[1])].missingMinutes+"")&&K(q,m),z&3&&L!==(L=y[0][y[2](y[1])].missingMinutes/24+"")&&K(W,L),z&2&&Y!==(Y=x(`rectangulo ${y[2](y[1]).toLocaleLowerCase().replaceAll(" ","-")}`)+" svelte-yql3zl")&&v(e,"class",Y)},i:X,o:X,d(y){y&&h(e)}}}function pe(l,e,t){let{stats:n}=e,{section:a}=e;const u=i=>{switch(i){case 1:return"Watching";case 2:return"Completed";case 3:return"On Hold";case 4:return"Dropped";case 6:return"Plan to Watch";case 7:return"All Anime"}};return l.$$set=i=>{"stats"in i&&t(0,n=i.stats),"section"in i&&t(1,a=i.section)},[n,a,u]}class Q extends te{constructor(e){super(),se(this,e,pe,_e,ae,{stats:0,section:1})}}function ue(l){let e,t,n;return t=new de({}),{c(){e=d("div"),R(t.$$.fragment),this.h()},l(a){e=_(a,"DIV",{class:!0});var u=g(e);U(t.$$.fragment,u),u.forEach(h),this.h()},h(){v(e,"class","spinner svelte-qp7u2n")},m(a,u){G(a,e,u),Z(t,e,null),n=!0},i(a){n||(N(t.$$.fragment,a),n=!0)},o(a){O(t.$$.fragment,a),n=!1},d(a){a&&h(e),F(t)}}}function oe(l){let e,t,n,a,u,i,$,E,f;return t=new Q({props:{stats:l[1],section:1}}),a=new Q({props:{stats:l[1],section:3}}),i=new Q({props:{stats:l[1],section:4}}),E=new Q({props:{stats:l[1],section:6}}),{c(){e=d("div"),R(t.$$.fragment),n=I(),R(a.$$.fragment),u=I(),R(i.$$.fragment),$=I(),R(E.$$.fragment),this.h()},l(r){e=_(r,"DIV",{class:!0});var o=g(e);U(t.$$.fragment,o),n=V(o),U(a.$$.fragment,o),u=V(o),U(i.$$.fragment,o),$=V(o),U(E.$$.fragment,o),o.forEach(h),this.h()},h(){v(e,"class","stats-container svelte-qp7u2n")},m(r,o){G(r,e,o),Z(t,e,null),s(e,n),Z(a,e,null),s(e,u),Z(i,e,null),s(e,$),Z(E,e,null),f=!0},p(r,o){const w={};o&2&&(w.stats=r[1]),t.$set(w);const b={};o&2&&(b.stats=r[1]),a.$set(b);const H={};o&2&&(H.stats=r[1]),i.$set(H);const c={};o&2&&(c.stats=r[1]),E.$set(c)},i(r){f||(N(t.$$.fragment,r),N(a.$$.fragment,r),N(i.$$.fragment,r),N(E.$$.fragment,r),f=!0)},o(r){O(t.$$.fragment,r),O(a.$$.fragment,r),O(i.$$.fragment,r),O(E.$$.fragment,r),f=!1},d(r){r&&h(e),F(t),F(a),F(i),F(E)}}}function ge(l){let e,t,n,a,u,i,$,E,f,r,o,w,b,H,c=l[0].waiting&&ue(),m=l[1]&&!l[0].waiting&&oe(l);return{c(){e=d("section"),t=d("h1"),n=T("AnimeList Stats"),a=I(),u=d("div"),i=d("label"),$=T("Your myanimelist url:"),E=I(),f=d("input"),r=I(),c&&c.c(),o=I(),m&&m.c(),this.h()},l(q){e=_(q,"SECTION",{class:!0});var D=g(e);t=_(D,"H1",{class:!0});var k=g(t);n=C(k,"AnimeList Stats"),k.forEach(h),a=V(D),u=_(D,"DIV",{class:!0});var S=g(u);i=_(S,"LABEL",{for:!0});var L=g(i);$=C(L,"Your myanimelist url:"),L.forEach(h),E=V(S),f=_(S,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0}),S.forEach(h),r=V(D),c&&c.l(D),o=V(D),m&&m.l(D),D.forEach(h),this.h()},h(){v(t,"class","svelte-qp7u2n"),v(i,"for","search"),v(f,"type","text"),v(f,"name","search"),v(f,"placeholder","https://myanimelist.net/animelist/username"),v(f,"class","svelte-qp7u2n"),v(u,"class","search-container svelte-qp7u2n"),v(e,"class","svelte-qp7u2n")},m(q,D){G(q,e,D),s(e,t),s(t,n),s(e,a),s(e,u),s(u,i),s(i,$),s(u,E),s(u,f),le(f,l[0].value),s(e,r),c&&c.m(e,null),s(e,o),m&&m.m(e,null),w=!0,b||(H=[ne(f,"input",l[3]),ne(f,"keyup",function(){fe(l[2](l[0]))&&l[2](l[0]).apply(this,arguments)})],b=!0)},p(q,[D]){l=q,D&1&&f.value!==l[0].value&&le(f,l[0].value),l[0].waiting?c?D&1&&N(c,1):(c=ue(),c.c(),N(c,1),c.m(e,o)):c&&(re(),O(c,1,1,()=>{c=null}),ie()),l[1]&&!l[0].waiting?m?(m.p(l,D),D&3&&N(m,1)):(m=oe(l),m.c(),N(m,1),m.m(e,null)):m&&(re(),O(m,1,1,()=>{m=null}),ie())},i(q){w||(N(c),N(m),w=!0)},o(q){O(c),O(m),w=!1},d(q){q&&h(e),c&&c.d(),m&&m.d(),b=!1,ce(H)}}}function $e(l,e,t){const{debounce:n}=he;let a={value:"",waiting:!1},u=null;const i="https://myanimelist-stats.vercel.app/api",$=new RegExp(/^(https:\/\/myanimelist.net\/animelist\/)([a-zA-Z0-9]+)/),f=n(()=>{$.test(a.value)&&(t(0,a.waiting=!0,a),fetch(`${i}?anime=${a.value}`).then(o=>o.json()).then(o=>{t(1,u=o),t(0,a.waiting=!1,a)}))},1e3);function r(){a.value=this.value,t(0,a)}return[a,u,f,r]}class Ee extends te{constructor(e){super(),se(this,e,$e,ge,ae,{})}}export{Ee as default};

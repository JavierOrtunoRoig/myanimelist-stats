import{S as te,i as se,s as ae,k as d,a as I,q as T,l as _,m as g,h as f,c as V,r as C,n as v,b as G,D as s,u as K,B as X,I as x,J as le,K as ne,f as N,t as O,d as ie,L as ce,w as R,x as U,y as Z,z as F,M as fe,g as re}from"../../chunks/index-84025daa.js";function ee(l,e,t){var i,a,u,r,$;e==null&&(e=100);function y(){var n=Date.now()-r;n<e&&n>=0?i=setTimeout(y,e-n):(i=null,t||($=l.apply(u,a),u=a=null))}var c=function(){u=this,a=arguments,r=Date.now();var n=t&&!i;return i||(i=setTimeout(y,e)),n&&($=l.apply(u,a),u=a=null),$};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&($=l.apply(u,a),u=a=null,clearTimeout(i),i=null)},c}ee.debounce=ee;var he=ee;function ve(l){let e,t,i,a,u,r,$,y,c,n,h,w,b,H,o,m,q,D,A,S,L,W,B,Y,E,z,j,k;return{c(){e=d("div"),t=d("div"),i=d("div"),a=I(),u=d("div"),r=I(),$=d("div"),y=I(),c=d("div"),n=I(),h=d("div"),w=I(),b=d("div"),H=I(),o=d("div"),m=I(),q=d("div"),D=I(),A=d("div"),S=I(),L=d("div"),W=I(),B=d("div"),Y=I(),E=d("div"),z=I(),j=d("p"),k=T(l[0]),this.h()},l(P){e=_(P,"DIV",{class:!0});var M=g(e);t=_(M,"DIV",{class:!0});var p=g(t);i=_(p,"DIV",{class:!0}),g(i).forEach(f),a=V(p),u=_(p,"DIV",{class:!0}),g(u).forEach(f),r=V(p),$=_(p,"DIV",{class:!0}),g($).forEach(f),y=V(p),c=_(p,"DIV",{class:!0}),g(c).forEach(f),n=V(p),h=_(p,"DIV",{class:!0}),g(h).forEach(f),w=V(p),b=_(p,"DIV",{class:!0}),g(b).forEach(f),H=V(p),o=_(p,"DIV",{class:!0}),g(o).forEach(f),m=V(p),q=_(p,"DIV",{class:!0}),g(q).forEach(f),D=V(p),A=_(p,"DIV",{class:!0}),g(A).forEach(f),S=V(p),L=_(p,"DIV",{class:!0}),g(L).forEach(f),W=V(p),B=_(p,"DIV",{class:!0}),g(B).forEach(f),Y=V(p),E=_(p,"DIV",{class:!0}),g(E).forEach(f),p.forEach(f),z=V(M),j=_(M,"P",{});var J=g(j);k=C(J,l[0]),J.forEach(f),M.forEach(f),this.h()},h(){v(i,"class","svelte-1aehays"),v(u,"class","svelte-1aehays"),v($,"class","svelte-1aehays"),v(c,"class","svelte-1aehays"),v(h,"class","svelte-1aehays"),v(b,"class","svelte-1aehays"),v(o,"class","svelte-1aehays"),v(q,"class","svelte-1aehays"),v(A,"class","svelte-1aehays"),v(L,"class","svelte-1aehays"),v(B,"class","svelte-1aehays"),v(E,"class","svelte-1aehays"),v(t,"class","spinner svelte-1aehays"),v(e,"class","container svelte-1aehays")},m(P,M){G(P,e,M),s(e,t),s(t,i),s(t,a),s(t,u),s(t,r),s(t,$),s(t,y),s(t,c),s(t,n),s(t,h),s(t,w),s(t,b),s(t,H),s(t,o),s(t,m),s(t,q),s(t,D),s(t,A),s(t,S),s(t,L),s(t,W),s(t,B),s(t,Y),s(t,E),s(e,z),s(e,j),s(j,k)},p(P,[M]){M&1&&K(k,P[0])},i:X,o:X,d(P){P&&f(e)}}}function me(l,e,t){let{text:i="Loading..."}=e;return l.$$set=a=>{"text"in a&&t(0,i=a.text)},[i]}class de extends te{constructor(e){super(),se(this,e,me,ve,ae,{text:0})}}function _e(l){let e,t,i=l[2](l[1])+"",a,u,r,$,y,c,n,h=l[0][l[2](l[1])].missingHours+"",w,b,H,o,m=l[0][l[2](l[1])].missingMinutes+"",q,D,A,S,L=l[0][l[2](l[1])].missingMinutes/20+"",W,B,Y;return{c(){e=d("div"),t=d("h3"),a=T(i),u=I(),r=d("div"),$=d("h4"),y=T("Missing time:"),c=I(),n=d("h4"),w=T(h),b=T(" hours"),H=I(),o=d("h4"),q=T(m),D=T(" minutes"),A=I(),S=d("h4"),W=T(L),B=T(" chapters"),this.h()},l(E){e=_(E,"DIV",{class:!0});var z=g(e);t=_(z,"H3",{class:!0});var j=g(t);a=C(j,i),j.forEach(f),u=V(z),r=_(z,"DIV",{class:!0});var k=g(r);$=_(k,"H4",{class:!0});var P=g($);y=C(P,"Missing time:"),P.forEach(f),c=V(k),n=_(k,"H4",{class:!0});var M=g(n);w=C(M,h),b=C(M," hours"),M.forEach(f),H=V(k),o=_(k,"H4",{class:!0});var p=g(o);q=C(p,m),D=C(p," minutes"),p.forEach(f),A=V(k),S=_(k,"H4",{class:!0});var J=g(S);W=C(J,L),B=C(J," chapters"),J.forEach(f),k.forEach(f),z.forEach(f),this.h()},h(){v(t,"class","title svelte-yql3zl"),v($,"class","svelte-yql3zl"),v(n,"class","svelte-yql3zl"),v(o,"class","svelte-yql3zl"),v(S,"class","svelte-yql3zl"),v(r,"class",x("hours-container")+" svelte-yql3zl"),v(e,"class",Y=x(`rectangulo ${l[2](l[1]).toLocaleLowerCase().replaceAll(" ","-")}`)+" svelte-yql3zl")},m(E,z){G(E,e,z),s(e,t),s(t,a),s(e,u),s(e,r),s(r,$),s($,y),s(r,c),s(r,n),s(n,w),s(n,b),s(r,H),s(r,o),s(o,q),s(o,D),s(r,A),s(r,S),s(S,W),s(S,B)},p(E,[z]){z&2&&i!==(i=E[2](E[1])+"")&&K(a,i),z&3&&h!==(h=E[0][E[2](E[1])].missingHours+"")&&K(w,h),z&3&&m!==(m=E[0][E[2](E[1])].missingMinutes+"")&&K(q,m),z&3&&L!==(L=E[0][E[2](E[1])].missingMinutes/20+"")&&K(W,L),z&2&&Y!==(Y=x(`rectangulo ${E[2](E[1]).toLocaleLowerCase().replaceAll(" ","-")}`)+" svelte-yql3zl")&&v(e,"class",Y)},i:X,o:X,d(E){E&&f(e)}}}function pe(l,e,t){let{stats:i}=e,{section:a}=e;const u=r=>{switch(r){case 1:return"Watching";case 2:return"Completed";case 3:return"On Hold";case 4:return"Dropped";case 6:return"Plan to Watch";case 7:return"All Anime"}};return l.$$set=r=>{"stats"in r&&t(0,i=r.stats),"section"in r&&t(1,a=r.section)},[i,a,u]}class Q extends te{constructor(e){super(),se(this,e,pe,_e,ae,{stats:0,section:1})}}function ue(l){let e,t,i;return t=new de({}),{c(){e=d("div"),R(t.$$.fragment),this.h()},l(a){e=_(a,"DIV",{class:!0});var u=g(e);U(t.$$.fragment,u),u.forEach(f),this.h()},h(){v(e,"class","spinner svelte-qp7u2n")},m(a,u){G(a,e,u),Z(t,e,null),i=!0},i(a){i||(N(t.$$.fragment,a),i=!0)},o(a){O(t.$$.fragment,a),i=!1},d(a){a&&f(e),F(t)}}}function oe(l){let e,t,i,a,u,r,$,y,c;return t=new Q({props:{stats:l[1],section:1}}),a=new Q({props:{stats:l[1],section:3}}),r=new Q({props:{stats:l[1],section:4}}),y=new Q({props:{stats:l[1],section:6}}),{c(){e=d("div"),R(t.$$.fragment),i=I(),R(a.$$.fragment),u=I(),R(r.$$.fragment),$=I(),R(y.$$.fragment),this.h()},l(n){e=_(n,"DIV",{class:!0});var h=g(e);U(t.$$.fragment,h),i=V(h),U(a.$$.fragment,h),u=V(h),U(r.$$.fragment,h),$=V(h),U(y.$$.fragment,h),h.forEach(f),this.h()},h(){v(e,"class","stats-container svelte-qp7u2n")},m(n,h){G(n,e,h),Z(t,e,null),s(e,i),Z(a,e,null),s(e,u),Z(r,e,null),s(e,$),Z(y,e,null),c=!0},p(n,h){const w={};h&2&&(w.stats=n[1]),t.$set(w);const b={};h&2&&(b.stats=n[1]),a.$set(b);const H={};h&2&&(H.stats=n[1]),r.$set(H);const o={};h&2&&(o.stats=n[1]),y.$set(o)},i(n){c||(N(t.$$.fragment,n),N(a.$$.fragment,n),N(r.$$.fragment,n),N(y.$$.fragment,n),c=!0)},o(n){O(t.$$.fragment,n),O(a.$$.fragment,n),O(r.$$.fragment,n),O(y.$$.fragment,n),c=!1},d(n){n&&f(e),F(t),F(a),F(r),F(y)}}}function ge(l){let e,t,i,a,u,r,$,y,c,n,h,w,b,H,o=l[0].waiting&&ue(),m=l[1]&&!l[0].waiting&&oe(l);return{c(){e=d("section"),t=d("h1"),i=T("AnimeList Stats"),a=I(),u=d("div"),r=d("label"),$=T("Your myanimelist url:"),y=I(),c=d("input"),n=I(),o&&o.c(),h=I(),m&&m.c(),this.h()},l(q){e=_(q,"SECTION",{class:!0});var D=g(e);t=_(D,"H1",{class:!0});var A=g(t);i=C(A,"AnimeList Stats"),A.forEach(f),a=V(D),u=_(D,"DIV",{class:!0});var S=g(u);r=_(S,"LABEL",{for:!0});var L=g(r);$=C(L,"Your myanimelist url:"),L.forEach(f),y=V(S),c=_(S,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0}),S.forEach(f),n=V(D),o&&o.l(D),h=V(D),m&&m.l(D),D.forEach(f),this.h()},h(){v(t,"class","svelte-qp7u2n"),v(r,"for","search"),v(c,"type","text"),v(c,"name","search"),v(c,"placeholder","https://myanimelist.net/animelist/username"),v(c,"class","svelte-qp7u2n"),v(u,"class","search-container svelte-qp7u2n"),v(e,"class","svelte-qp7u2n")},m(q,D){G(q,e,D),s(e,t),s(t,i),s(e,a),s(e,u),s(u,r),s(r,$),s(u,y),s(u,c),le(c,l[0].value),s(e,n),o&&o.m(e,null),s(e,h),m&&m.m(e,null),w=!0,b||(H=[ne(c,"input",l[3]),ne(c,"keyup",function(){fe(l[2](l[0]))&&l[2](l[0]).apply(this,arguments)})],b=!0)},p(q,[D]){l=q,D&1&&c.value!==l[0].value&&le(c,l[0].value),l[0].waiting?o?D&1&&N(o,1):(o=ue(),o.c(),N(o,1),o.m(e,h)):o&&(re(),O(o,1,1,()=>{o=null}),ie()),l[1]&&!l[0].waiting?m?(m.p(l,D),D&3&&N(m,1)):(m=oe(l),m.c(),N(m,1),m.m(e,null)):m&&(re(),O(m,1,1,()=>{m=null}),ie())},i(q){w||(N(o),N(m),w=!0)},o(q){O(o),O(m),w=!1},d(q){q&&f(e),o&&o.d(),m&&m.d(),b=!1,ce(H)}}}function $e(l,e,t){const{debounce:i}=he;let a={value:"",waiting:!1},u=null;const r=new RegExp(/^(https:\/\/myanimelist.net\/animelist\/)([a-zA-Z0-9]+)/),y=i(()=>{r.test(a.value)&&(t(0,a.waiting=!0,a),fetch(`https://my-anime-stats-backend.vercel.app/api?anime=${a.value}`).then(n=>n.json()).then(n=>{t(1,u=n),t(0,a.waiting=!1,a)}))},1e3);function c(){a.value=this.value,t(0,a)}return[a,u,y,c]}class Ee extends te{constructor(e){super(),se(this,e,$e,ge,ae,{})}}export{Ee as default};
